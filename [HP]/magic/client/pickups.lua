local a={}RegisterNetEvent("Magic:ClearArea")AddEventHandler("Magic:ClearArea",function(b)a=b end)Citizen.CreateThread(function()while true do for c,d in pairs(a)do if d.timer>0 and d.found==false and d.timer<301 then if Vdist(GetEntityCoords(GetPlayerPed(-1)),d.center)<d.zone then SetTextFont(0)SetTextProportional(1)SetTextScale(0.0,0.4)SetTextColour(255,255,255,255)SetTextDropshadow(0,0,0,0,255)SetTextEdge(1,0,0,0,255)SetTextDropShadow()SetTextOutline()SetTextJustification(0)SetTextEntry("STRING")AddTextComponentString("Tisztitó varázslat: "..d.timer.." másodperc")DrawText(0.50,0.2)end;DrawMarker(28,d.center,0.0,0.0,0.0,0.0,0.0,0.0,d.zone,d.zone,d.zone,55,25,255,255,false,true,2,true,false,false,false)end end;Wait(0)end end)Citizen.CreateThread(function()while true do for c,d in pairs(a)do if d.timer>0 and d.found==false and d.timer<301 then local e=vector3(d.center.x,d.center.y,d.center.z-1)-vector3(d.center.x,d.center.y,d.center.z)for f=1,500,3.5 do DrawSpotLight(d.center.x,d.center.y,d.center.z+100,e,255,0,0,f,10.0-f/50,1.0,10000.0)Wait(0)end end end;Wait(0)end end)
